'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
exports.DropIndexNode = void 0;
const _1 = require(".");
class DropIndexNode extends _1.Node {
    constructor(table, indexName) {
        super('DROP INDEX');
        if (!indexName) {
            throw new Error('No index defined!');
        }
        else if (Array.isArray(indexName) && typeof indexName[0] === 'string') {
            indexName = indexName[0];
        }
        else if (Array.isArray(indexName)) {
            const columns = indexName.map((col) => col.name).sort();
            indexName = [table.getName()].concat(columns).join('_');
        }
        this.table = table;
        this.options = { indexName };
    }
    ifExists() {
        this.options.ifExists = true;
        return this;
    }
}
exports.DropIndexNode = DropIndexNode;
//# sourceMappingURL=dropIndex.js.map