'use strict';
import { Node } from '.';
export class DropIndexNode extends Node {
    constructor(table, indexName) {
        super('DROP INDEX');
        if (!indexName) {
            throw new Error('No index defined!');
        }
        else if (Array.isArray(indexName) && typeof indexName[0] === 'string') {
            indexName = indexName[0];
        }
        else if (Array.isArray(indexName)) {
            const columns = indexName.map((col) => col.name).sort();
            indexName = [table.getName()].concat(columns).join('_');
        }
        this.table = table;
        this.options = { indexName };
    }
    ifExists() {
        this.options.ifExists = true;
        return this;
    }
}
//# sourceMappingURL=dropIndex.js.map